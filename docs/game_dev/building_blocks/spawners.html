<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Spawners - Gamedev for beginners</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" disabled>
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" >
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="../../index.html">Gamedev for beginners</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../../index.html" class="nav-link">Home</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Installation</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../installation/unity_upm_installation.html" class="dropdown-item">Unity package installation</a>
</li>
                                    
<li>
    <a href="../../installation/unity_interactive_documentation.html" class="dropdown-item">Interactive documentation</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Theory</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../theory/game_engines.html" class="dropdown-item">Game engines</a>
</li>
                                    
<li>
    <a href="../theory/physics.html" class="dropdown-item">Physics</a>
</li>
                                    
<li>
    <a href="../theory/time.html" class="dropdown-item">Time</a>
</li>
                                    
<li>
    <a href="../theory/rendering.html" class="dropdown-item">Rendering</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">World building</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../world/world.html" class="dropdown-item">World</a>
</li>
                                    
<li>
    <a href="../world/world_barriers.html" class="dropdown-item">Barriers</a>
</li>
                                    
<li>
    <a href="../world/world_terrain.html" class="dropdown-item">Terrain</a>
</li>
                                    
<li>
    <a href="../world/world_biomes.html" class="dropdown-item">Biomes</a>
</li>
                                    
<li>
    <a href="../world/world_landmarks.html" class="dropdown-item">Landmarks</a>
</li>
                                    
<li>
    <a href="../world/world_design_blocking.html" class="dropdown-item">Blocking</a>
</li>
                                    
<li>
    <a href="../world/world_design_tools.html" class="dropdown-item">Tools</a>
</li>
                                    
<li>
    <a href="../world/world_level_design.html" class="dropdown-item">Level design</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Building blocks</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="camera.html" class="dropdown-item">Camera</a>
</li>
                                    
<li>
    <a href="character_controller.html" class="dropdown-item">Character controller</a>
</li>
                                    
<li>
    <a href="console.html" class="dropdown-item">Console</a>
</li>
                                    
<li>
    <a href="triggers.html" class="dropdown-item">Triggers</a>
</li>
                                    
<li>
    <a href="teleports.html" class="dropdown-item">Teleports</a>
</li>
                                    
<li>
    <a href="timers.html" class="dropdown-item">Timers</a>
</li>
                                    
<li>
    <a href="spawners.html" class="dropdown-item active" aria-current="page">Spawners</a>
</li>
                                    
<li>
    <a href="counters.html" class="dropdown-item">Counters</a>
</li>
                                    
<li>
    <a href="quests.html" class="dropdown-item">Quests</a>
</li>
                                    
<li>
    <a href="inventory.html" class="dropdown-item">Inventory</a>
</li>
                                    
<li>
    <a href="map.html" class="dropdown-item">Map</a>
</li>
                                    
<li>
    <a href="chance.html" class="dropdown-item">Chance</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Programming</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../csharp/programming_vs_cooking.html" class="dropdown-item">Intro</a>
</li>
                                    
<li>
    <a href="../../csharp/constants.html" class="dropdown-item">Constants</a>
</li>
                                    
<li>
    <a href="../../csharp/variables.html" class="dropdown-item">Variables</a>
</li>
                                    
<li>
    <a href="../../csharp/types.html" class="dropdown-item">Types</a>
</li>
                                    
<li>
    <a href="../../csharp/scope.html" class="dropdown-item">Scope</a>
</li>
                                    
<li>
    <a href="../../csharp/functions.html" class="dropdown-item">Functions</a>
</li>
                                    
<li>
    <a href="../../csharp/operators.html" class="dropdown-item">Operators</a>
</li>
                                    
<li>
    <a href="../../csharp/conditions.html" class="dropdown-item">Conditions</a>
</li>
                                    
<li>
    <a href="../../csharp/loops.html" class="dropdown-item">Loops</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="timers.html" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="counters.html" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>
        <script src="../../js/darkmode.js"></script>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#spawners" class="nav-link">spawners</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#object-to-spawn" class="nav-link">Object to spawn</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#event" class="nav-link">Event</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#instance-spawner" class="nav-link">Instance Spawner</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#memory-pool" class="nav-link">Memory pool</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#implementation" class="nav-link">Implementation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#memory-pool-spawner" class="nav-link">Memory Pool Spawner</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="spawners">spawners</h1>
<p>Spawners are areas which spawn specific units. Those units can be enemies, loot, npcs basically everything in the game which needs to respawn at a certain time is considered spawner. </p>
<p><strong><em>Minecraft monster spawner</em></strong><br />
<img src="../../img/minecraft_spawners.webp" alt="minecraft" height="400"/></p>
<h2 id="object-to-spawn">Object to spawn</h2>
<p>We have to spawn something, otherwise it would be not considered a spawner.
That something is usually a game element or a unit.</p>
<h2 id="event">Event</h2>
<p>The object has to spawn at a specific time called event.
We usually spawn things at a specific interval, for example once in a minute.
Or we spawn things when we kill an enemy, another enemy is spawned, therefore
the number of enemies remains constant.</p>
<h2 id="instance-spawner">Instance Spawner</h2>
<p><a href="http://localhost:8081/?actionType=loadScript&amp;value=Runtime/Spawner/InstanceSpawner.cs"><img alt="OpenScriptButton" src="https://img.shields.io/badge/Open%20script-4287f5?style=for-the-badge" title="OpenScriptButton" /></a></p>
<p>In combination with a timer we clone the spawned game object every duration we set. 
This implementation has few issues however.</p>
<ul>
<li>The longer the spawner exists the more it spawns objects which might in best case decrease our game frame rate and in worst case crash our game. This can be resolved by a another timer which destroys the spawned objects</li>
<li>Spawning GameObjects can create hiccups in our game, which will affect smoothness of our gameplay.</li>
</ul>
<p>So what can we do to make this safer? Lets use a memory pool.
A memory pool is just an array of GameObjects which are instantiated when needed. Individual objects are disabled and when the spawner is about to spawn an object it just moves the object to the spawn location, resets all its states and turns its visibility on.</p>
<h2 id="memory-pool">Memory pool</h2>
<p>Usually we don't want to spawn many new elements at once because they very often cause hiccups. A hiccup in a game is caused by some operation which takes too much time. If we create elements when the game loads instead ahead of time, we still get some hiccup but it is during level loading which is more acceptable. Then during spawning we just enable and disable those elements, which creates the same effect as spawning but without the hiccup.</p>
<h1 id="implementation">Implementation</h1>
<p>Spawner can be implemented as:
- <strong>Array</strong>, an array of elements which represents our memory pool.
- <strong>Integer</strong>, representing the current index of an element we want to spawn.
- <strong>Spawn function</strong>, which enables our element in scene and increments the spawn index.
- <strong>Spawn event</strong>
    - Timer, when our timer finishes, we spawn another element.
    - Game event, when our enemy is killed, we spawn another enemy.</p>
<h1 id="memory-pool-spawner">Memory Pool Spawner</h1>
<p><a href="http://localhost:8081/?actionType=loadScene&amp;value=Spawner.unity"><img alt="OpenSceneButton" src="https://img.shields.io/badge/Open%20scene-4287f5?style=for-the-badge" title="OpenSceneButton" /></a> <a href="http://localhost:8081/?actionType=loadScript&amp;value=Runtime/Spawner/MemoryPoolSpawner.cs"><img alt="OpenScriptButton" src="https://img.shields.io/badge/Open%20script-4287f5?style=for-the-badge" title="OpenScriptButton" /></a></p>
<p>While this implementation is much more efficient, the crucial portion of this implementation is the resetting of state every time we need to spawn the object. 
If the Object has complex states, for example animations, physics or game logic that also needs to be reset whenever we need to spawn an object. 
Keep this in mind, the more complex the state, the more complex the reset becomes as well. In a complex reset state might be actually simpler to use the creation and destruction as this always resets the state to its beginning.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
