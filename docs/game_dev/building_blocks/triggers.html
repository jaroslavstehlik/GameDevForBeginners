<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Triggers - Gamedev for beginners</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" disabled>
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" >
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="../../index.html">Gamedev for beginners</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../../index.html" class="nav-link">Home</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Installation</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../installation/unity_upm_installation.html" class="dropdown-item">Unity package installation</a>
</li>
                                    
<li>
    <a href="../../installation/unity_interactive_documentation.html" class="dropdown-item">Interactive documentation</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Theory</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../theory/game_engines.html" class="dropdown-item">Game engines</a>
</li>
                                    
<li>
    <a href="../theory/physics.html" class="dropdown-item">Physics</a>
</li>
                                    
<li>
    <a href="../theory/time.html" class="dropdown-item">Time</a>
</li>
                                    
<li>
    <a href="../theory/rendering.html" class="dropdown-item">Rendering</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">World building</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../world/world.html" class="dropdown-item">World</a>
</li>
                                    
<li>
    <a href="../world/world_barriers.html" class="dropdown-item">Barriers</a>
</li>
                                    
<li>
    <a href="../world/world_terrain.html" class="dropdown-item">Terrain</a>
</li>
                                    
<li>
    <a href="../world/world_biomes.html" class="dropdown-item">Biomes</a>
</li>
                                    
<li>
    <a href="../world/world_landmarks.html" class="dropdown-item">Landmarks</a>
</li>
                                    
<li>
    <a href="../world/world_design_blocking.html" class="dropdown-item">Blocking</a>
</li>
                                    
<li>
    <a href="../world/world_design_tools.html" class="dropdown-item">Tools</a>
</li>
                                    
<li>
    <a href="../world/world_level_design.html" class="dropdown-item">Level design</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Building blocks</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="camera.html" class="dropdown-item">Camera</a>
</li>
                                    
<li>
    <a href="character_controller.html" class="dropdown-item">Character controller</a>
</li>
                                    
<li>
    <a href="console.html" class="dropdown-item">Console</a>
</li>
                                    
<li>
    <a href="triggers.html" class="dropdown-item active" aria-current="page">Triggers</a>
</li>
                                    
<li>
    <a href="teleports.html" class="dropdown-item">Teleports</a>
</li>
                                    
<li>
    <a href="timers.html" class="dropdown-item">Timers</a>
</li>
                                    
<li>
    <a href="spawners.html" class="dropdown-item">Spawners</a>
</li>
                                    
<li>
    <a href="counters.html" class="dropdown-item">Counters</a>
</li>
                                    
<li>
    <a href="quests.html" class="dropdown-item">Quests</a>
</li>
                                    
<li>
    <a href="inventory.html" class="dropdown-item">Inventory</a>
</li>
                                    
<li>
    <a href="map.html" class="dropdown-item">Map</a>
</li>
                                    
<li>
    <a href="chance.html" class="dropdown-item">Chance</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Programming</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../csharp/programming_vs_cooking.html" class="dropdown-item">Intro</a>
</li>
                                    
<li>
    <a href="../../csharp/constants.html" class="dropdown-item">Constants</a>
</li>
                                    
<li>
    <a href="../../csharp/variables.html" class="dropdown-item">Variables</a>
</li>
                                    
<li>
    <a href="../../csharp/types.html" class="dropdown-item">Types</a>
</li>
                                    
<li>
    <a href="../../csharp/scope.html" class="dropdown-item">Scope</a>
</li>
                                    
<li>
    <a href="../../csharp/functions.html" class="dropdown-item">Functions</a>
</li>
                                    
<li>
    <a href="../../csharp/operators.html" class="dropdown-item">Operators</a>
</li>
                                    
<li>
    <a href="../../csharp/conditions.html" class="dropdown-item">Conditions</a>
</li>
                                    
<li>
    <a href="../../csharp/loops.html" class="dropdown-item">Loops</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="console.html" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="teleports.html" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>
        <script src="../../js/darkmode.js"></script>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#triggers" class="nav-link">Triggers</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#grid" class="nav-link">Grid</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#colliders" class="nav-link">Colliders</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#events" class="nav-link">Events</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#implementation" class="nav-link">Implementation</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#naive-trigger" class="nav-link">Naive trigger</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#counter-trigger" class="nav-link">Counter trigger</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="triggers">Triggers</h1>
<p>Triggers are very similar to colliders but instead of being a barrier which cant be walked in to, it is a detector which main purpose is to be walked in to or detect that something has entered it. It can detect players, npcs, objects.</p>
<p>Triggers are the most primitive game element we can introduce in a game. From a simple switch which opens some door, to a very complicated puzzles or systems which can very easily keep us occupied for several hours.</p>
<p><strong><em>Minecraft trigger trap</em></strong><br />
<img src="../../img/minecraft_trap.gif" alt="minecraft" height="400"/></p>
<p>What makes a trigger detect stuff?</p>
<h1 id="grid">Grid</h1>
<p>On a grid based game, we can identify a trigger with a specific trigger tile. If we can identify which tile on the grid is for walking and which is not, we can also create another class of a tile which is meant for triggering.</p>
<h1 id="colliders">Colliders</h1>
<p>Primitive shapes which describe a specific volume can be also used as triggers in most physics engines. We usually have to use some kind of flag on the collider to make it act as a trigger, otherwise it would be behaving as a wall.</p>
<h1 id="events">Events</h1>
<p>Every trigger triggers an event when it detects something. An event is simply a link to a specific function. That function is called when we activate the trigger.</p>
<h1 id="implementation">Implementation</h1>
<p>Our trigger script needs to inherit from MonoBehaviour in order so it can receive messages about triggers.  </p>
<p>MonoBehaviour class implements three trigger related messages.<br />
- OnTriggerEnter
- OnTriggerStay
- OnTriggerExit</p>
<p>We will use only OnTriggerEnter and OnTriggerExit for now.  </p>
<h2 id="naive-trigger">Naive trigger</h2>
<p><a href="http://localhost:8081/?actionType=loadScene&amp;value=NaiveTrigger.unity"><img alt="OpenSceneButton" src="https://img.shields.io/badge/Open%20scene-4287f5?style=for-the-badge" title="OpenSceneButton" /></a> <a href="http://localhost:8081/?actionType=loadScript&amp;value=Runtime/Trigger/NaiveTrigger.cs"><img alt="OpenScriptButton" src="https://img.shields.io/badge/Open%20script-4287f5?style=for-the-badge" title="OpenScriptButton" /></a></p>
<p>The code above will do most of its job but it is far from perfect. It is made as simple as possible but does not cover many different cases. One of the case is that if two objects enter and then single object exits we will get this sequence.</p>
<pre><code class="language-csharp">OnTriggerEnter Collider1 // Enable wall
OnTriggerEnter Collider2 // Enable wall
OnTriggerExit Collider1 // Disable wall
</code></pre>
<p>If our events would just enable and disable a wall for example, The wall would disable early even that an collider is still inside the trigger, that is because we got an OnTriggerExit early because an collider has exited the trigger. </p>
<ul>
<li>One of the solutions would be to make sure that only a single collider can enter and exit the trigger. But this would be very hard to achieve in the scene.</li>
<li>The other solution is to remember which colliders have entered and which colliders have left the trigger.</li>
</ul>
<h2 id="counter-trigger">Counter trigger</h2>
<p><a href="http://localhost:8081/?actionType=loadScene&amp;value=CounterTrigger.unity"><img alt="OpenSceneButton" src="https://img.shields.io/badge/Open%20scene-4287f5?style=for-the-badge" title="OpenSceneButton" /></a> <a href="http://localhost:8081/?actionType=loadScript&amp;value=Runtime/Trigger/CounterTrigger.cs"><img alt="OpenScriptButton" src="https://img.shields.io/badge/Open%20script-4287f5?style=for-the-badge" title="OpenScriptButton" /></a></p>
<p>This solution triggers enter only when at least single object enters the trigger
and triggers exit only when all objects leave the trigger. 
This trigger is pretty robust towards multiple object detection.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
